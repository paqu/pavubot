<div class="container">
  <div class="row">
    <h2 class="text-center" style="margin-top:0;margin-bottom:20px"> Panel sterowania robotem {{robot.name}} </h2>
    <h2 class="text-center" style="margin-top:0;margin-bottom:20px"> Video id: {{robot.video_socketId}} </h2>
    <div class="col-md-5 col-sm-12">
      <div class="panel panel-default">
        <div class="panel-heading text-center">Transmisja obrazu -
          <span ng-if="robot.video_socketId == 'no connection'">brak połączenia</span>
          <span ng-if="robot.video_socketId != 'no connection'">uzyskano połączenie</span>
        </div>
            <div class="panel-body h-321">
              <div ng-show="!video_frame && robot.video_socketId != 'no connection'" class="video-contener">Włącz transmisje</div>
              <img ng-src="{{video_frame}}" ng-show="video_frame" class="video-contener" id="canvas-video">
                <div class="btn-group btn-group-justified btn-video" ng-if="robot.video_socketId != 'no connection'" role="group">
                  <div class="btn-group" role="group">
                    <button type="button" class="btn btn-info" ng-click="start_video()">Start</button>
                  </div>
                  <div class="btn-group" role="group">
                    <button type="button" class="btn btn-info" ng-click="stop_video()">Stop</button>
                  </div>
                </div>
            </div>
      </div>
      <div class="panel panel-default">
          <div class="panel-heading text-center">Sterowanie</div>
          <div class="panel-body">
            <div class="row" style="margin:20px 0">
              <div class="col-md-12">
                <div id="servo">
                  <div class="row">
                    <span class="col-xs-12 text-center">Serwo</span>
                  </div>
                  <div class="row">
                    <span class="col-xs-1">-90</span>
                    <span class="col-xs-10 text-center">{{robot.servo.angle}}</span>
                    <span class="col-xs-1">90</span>
                  </div>
                  <div class="row">
                    <div class="progress rightToLeft col-xs-6">
                      <div class="progress-bar progress-bar-success" role="progressbar" style="width:40%"></div>
                      <div class="progress-bar progress-bar-warning" role="progressbar" style="width:10%"></div>
                      <div class="progress-bar progress-bar-danger" role="progressbar" style="width:20%"></div>
                    </div>

                    <div class="progress col-xs-6">
                      <div class="progress-bar progress-bar-success" role="progressbar" style="width:1%"></div>
                      <div class="progress-bar progress-bar-warning" role="progressbar" style="width:10%"></div>
                      <div class="progress-bar progress-bar-danger" role="progressbar" style="width:20%"></div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
            <div class="row" style="margin:20px 0">
              <div class="col-md-12">
                <div id="angle">
                  <div class="row">
                    <span class="col-md-12 text-center">Kąt obrotu</span>
                  </div>
                  <div class="row">
                    <span class="col-xs-1">-180</span>
                    <span class="col-xs-10 text-center">0</span>
                    <span class="col-xs-1">180</span>
                  </div>
                  <div class="row">
                    <div class="progress rightToLeft col-xs-6">
                        <div class="progress-bar progress-bar-success" role="progressbar" style="width:40%"></div>
                        <div class="progress-bar progress-bar-warning" role="progressbar" style="width:10%"></div>
                        <div class="progress-bar progress-bar-danger" role="progressbar" style="width:20%"></div>
                    </div>
                    <div class="progress col-xs-6">
                        <div class="progress-bar progress-bar-success" role="progressbar" style="width:40%"></div>
                        <div class="progress-bar progress-bar-warning" role="progressbar" style="width:10%"></div>
                        <div class="progress-bar progress-bar-danger" role="progressbar" style="width:20%"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row" style="margin:20px 0">
              <div class="col-sm-12">
                <div id="keys" style="margin:0 auto;width:135; height:60px;position:relative">
                  <button id="left" class="btn btn-primary" type="button" style="position:absolute;left:0;top:35px">
                     <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>
                  </button>
                  <button id="up" class="btn btn-primary" type="button" style="position:absolute;left:45;top:3px">
                     <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
                  </button>
                  <button id="down" class="btn btn-primary" type="button" style="position:absolute;left:45;top:35px">
                     <span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span>
                  </button>
                  <button id="right" class="btn btn-primary" type="button" style="position:absolute;left:90;top:35px">
                     <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>
                  </button>
                </div>
              </div>
            </div>
         </div>
      </div>
    </div>
    <div class="col-md-7 col-sm-12">
      <div class="panel panel-default">
          <div class="panel-heading text-center" >Mapa pomieszczenia</div>
            <div class="panel-body h-321">
                <div class="container center">
                  <canvas id="canvas-video" height="320"></canvas>
                </div>
            </div>
      </div>
      <div class="panel panel-default">
          <div class="panel-heading text-center">Konfiguracja</div>
            <div class="panel-body">
              <div class="col-xs-12 col-md-4">
                <form name="update_speed_form" novalidate class="form-horizontal" ng-submit="update_speed()">
                  <h3 class="config-header">Silnik</h3>
                  <div class="input-group input-group-sm" style="margin-top:20px;margin-bottom:20px">
                    <span class="input-group-addon" id="sizing-addon3">Lewy</span>
                    <input class="form-control" placeholder="predkość [0-100]" ng-pattern="/^([0-9]|[1-9][0-9]|100)$/" ng-model="robot.motor.motor_a_speed" required>
                  </div>
                  <div class="input-group input-group-sm">
                    <span class="input-group-addon" id="sizing-addon3">Prawy</span>
                    <input  class="form-control" placeholder="predkość [0-100]" ng-pattern="/^([0-9]|[1-9][0-9]|100)$/" ng-model="robot.motor.motor_b_speed" required>
                  </div>
                  <br>
                  <div class="alert alert-danger" ng-show="error">
                    {{error_msg}}
                  </div>
                  <div class="input-group input-group-sm pull-right" style="">
                    <input  type="submit" class="btn btn-primary " value="Ustaw">
                  </div>
                </form>
              </div>
              <div class="col-xs-12 col-md-4">
                <h3 class="config-header">Czujnik odległości</h3>
                

                  <div class="input-group input-group-sm" style="margin-top:25px;margin-bottom:25px">
                   <label class="radio-inline"><input type="radio" name="distance_sensor" ng-model="distance_sensor" value="sonar">Sonar</label>
                   <label class="radio-inline"><input type="radio" name="distance_sensor" ng-model="distance_sensor" value="infrared">Podczerwień</label> 
                  </div>


                <div class="input-group input-group-sm">
                  <span class="input-group-addon" id="sizing-addon3">Odległość</span>
                  <div class="form-control" ng-show="distance_sensor == 'sonar'">{{robot.distance_sensor.sonar}} </div>
                  <div class="form-control" ng-show="distance_sensor == 'infrared'">{{robot.distance_sensor.infrared}}</div>
                  <!-- <input  disabled class="form-control" placeholder="" aria-describedby="sizing-addon3"> -->
                </div>
              </div>

              <div class="col-xs-12 col-md-4">
                <h3 class="config-header">Enkoder<h3>

                <div class="input-group input-group-sm" style="margin-bottom:20px">
                  <span class="input-group-addon" id="sizing-addon3">Lewy</span>
                  <input disabled class="form-control" placeholder="" aria-describedby="sizing-addon3">
                </div>

                <div class="input-group input-group-sm">
                  <span class="input-group-addon" id="sizing-addon3">Prawy</span>
                  <input  disabled class="form-control" placeholder="" aria-describedby="sizing-addon3">
                </div>
              </div>
            </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <p class="text-center"><a ui-sref="robots"> Wróć do listy robotów </a></p>
    </div>
  </div>
</div>
